@namespace
class SpriteKind:
    Health = SpriteKind.create()
    NailSmith = SpriteKind.create()
    NPC = SpriteKind.create()
    Soul = SpriteKind.create()

def on_right_released():
    animation.run_image_animation(mySprite,
        assets.animation("""
            Idle Right
        """),
        500,
        True)
controller.right.on_event(ControllerButtonEvent.RELEASED, on_right_released)

def StartPage():
    scene.set_background_image(img("""
        fffffffffffffffffffffffffffffffff1111fffffffffffffffffffffffffff11111ffffffffffffffffffffff1111ffffffffffffffffffffffffffff1111fffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffff1111fffffffffffffffffffffffffff11111ffffffffff11fffffffff111111ffffffffffffffffffffffffff11111fffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffff1111111f111ff1111111ff1111111fff11111ffff11111111111111fff111111fff1111111f11111111f1111ff111111ffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffff111111111111111111111111111111ff11111ffff11111111111111fff111111ff1111111111111111111111ff111f11ffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffff11111ff11111111111111111111111ff111ffffff111111ff111111ffffff11fff1111111111111111111111ff11111fffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffff111111111111ff11111111111111ffff1111ffff11111111111111ffff1111ffff11111111111111ff111111111111fffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffff1111111111ffff1111fff1111111111111111111111111111111111111111111111111111ff11111ffff1111111111fffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffff11ffffffff111111111111111ff111f11f111f111111111111111ffffffff111ffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffff111ffffffffffffffffffffffffffffff1111fffffffffffffffffffffffffffffffffffffffffffff11ffffffffffffffffffffffff11111fffffffffffffffffff11fffffff
                111fff11111ffff1111111111fff11111ffff1111111ffffff11111111fff111111fff111ff111111ffffff11111ff1111fff111ffff111111f11111fffff111111111ff11111ffff111111111111111
                11fffff111ffff11111ff1111ffff111ffffffff111ffffff1111f111111ff1111ffff111ffff11fffffffff1111ff111ffff111ffffff111ff1111fffff1111ff1111fff111ffffff111ff111111111
                11fffff111ffff1111ffff1111fff111ffffffff111ffffff111ffff11111ff111ffff111fff111fffffffff111ff111fffff1111fffff111ff1111ffff111ffffff11fff111ffffff111ff11ff111ff
                11fffff111ffff11fffffff111fff111ffffffff111fffff111fffff11111ff111fff1111fff111fffffffff111ff111fffff1111fffff111ff1111ffff11fffffff11fff111ffffff111ff11ff111ff
                11fffff111fff111ffffffff111ff111ffffffff111fffff111ffffff11111f111fff1111fff11ffffffffff111f111ffffff11111fffff11ff1111fff111fffffff11fff111ffffff111ffffff111ff
                11fffff111fff111ffffffff111ff111ffffffff111ffff111fffffff11111ff11fff1111fff11ffffffffff111f11fffffff11111fffff11ff1111fff111ffffffffffff111ffffff111ffffff111ff
                11fffff111ff1111ffffffff111ff111ffffffff111ffff111ffffffff1111ff11ff11111ff111ffffffffff111111fffffff111111ffff11ff1111fff111ffffffffffff111ffffff111ffffff111ff
                1111111111ff1111ffffffff111ff111ffffffff111ffff111ffffffff1111ff111f111111f111ffffffffff11111ffffffff1111111fff11ff1111fff111ffffffffffff111111111111ffffff111ff
                1111111111ff1111ffffffff111ff111ffffffff111ffff111ffffffff1111ff111f111111f11fffffffffff11111ffffffff1111111fff11ff1111fff111ffffffffffff111111111111ffffff111ff
                1111111111ff1111ffffffff111ff111ffffffff111ffff111ffffffff1111ff111f111111f11fffffffffff111111fffffff111f1111ff11ff1111fff111fffff11111ff111111111111ffffff111ff
                11fffff111ff1111ffffffff111ff111ffffffff111ffff111ffffffff1111ff111f11f111111fffffffffff111111fffffff111f1111ff11ff1111fff111fffff11111ff111ffffff111ffffff111ff
                11fffff111ff1111ffffffff111ff111ffffffff111ffff111ffffffff1111ff111111ff11111fffffffffff1111111ffffff111ff1111f11ff1111fff111ffffff111fff111ffffff111ffffff111ff
                11fffff111ff1111ffffffff111ff111ffffffff111ffff1111fffffff1111fff11111ff11111fffffffffff1111111ffffff111ff1111111ff1111fff111ffffff111fff111ffffff111ffffff111ff
                11fffff111fff111ffffffff111ff111ffffffff111ffff1111ffffff11111fff1111fff11111fffffffffff111f1111fffff111fff111111ff1111fff111ffffff111fff111ffffff111ffffff111ff
                11fffff111fff111ffffffff11fff111ffffffff111ffff1111ffffff1111ffff1111fff11111fffffffffff111f1111fffff111ffff11111ff1111ffff111fffff111fff111ffffff111ffffff111ff
                11fffff111ffff1111fffff111fff111fff11fff111fff1f1111ffff11111ffff1111ffff111ffffffffffff1111f1111ffff111ffff11111ff1111ffff1111ffff111fff111ffffff111ffffff111ff
                11fffff111ffff11111fff1111fff111fff11fff111ff11ff1111fff1111ffffff11fffff111ffffffffffff1111ff1111fff111fffff1111ff1111ffff1111ffff111fff111ffffff111ffffff111ff
                11fffff1111fff111111f111fffff1111ff11fff1111f11ff11111f111ffffffff11fffff11fffffffffffff1111ff1111fff111ffffff111ff1111fffff11111f1111fff111ffffff111ffffff111ff
                1111ff11111ffff111111111ffff1111111111111111111fff11111111ffffffff11fffff11ffffffffffff111111ff1111111111fffff111ff11111fffff111111111ff11111ffff111111fff111111
                1111ff11111fffff1111111fffff11111111f1111111111ffff11111ffffffffff11fffff11ffffffffffff11111ffff111111111ffffff11ff11111ffffff111111ffff11111ffff111111fff111111
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffff111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111fffffff
                fffff111111fffffffffffffffff111111fffffffffffffffffffffffffffffff1111111111f1111111111111111111fffffffffffffffffffffffffffffff111111ffffffffffffffff1111111fffff
                fffff1111111ffffffffffffffff1111111ffffffffffff11111111111111ffff1111111111111ffff1111111111111ffff11111111111111ffffffffffff1111111ffffffffffffffff1111111fffff
                fffff11f1111ff11111fffffffff11f1111ffffff111111111111111111111111111111111111111111111111111111111111111111111111111111ffffff1111f11fffffffff11111ff1111f11fffff
                fffff11f1111ff11111fffffffff11f111fff11111111111f111111111ff11111111111111111111111111111111111111111f111111111f11111111111fff111f11fffffffff11111ff1111f11fffff
                fffff111111fff11111fffffffff1111111111111ffff111111111ff11ffff111f1111111111ffffffff1111111111f111ffff11ff11111111fffff111111111111ffffffffff11111fff111111fffff
                fffff1111fffff1111ffffffff11111111111ffffffff111111111f11111fff1111111111111ffffffff1111111111111ff111111f11111111fffffffff11111111111fffffff11111fffff111ffffff
                fffffff111111111111111111111111111111ffffffff111111111111111111111f111f1111111111111111111111f111111111111111111111ffffffff111111111111111111111111111111fffffff
                ffffffff111111111111111111ffff1111111ffffffff111111111ffffff1111111f111111111111111111111111f11111111fffff111111111ffffffff1111111ffff11111111111111111fffffffff
                fffffffffffff1111111fffffffffff1f1111ffffffff111111111ffffff1111111111111111ffffffff11111111111111111fffff111111111ffffffff1111f1fffffffffff1111111fffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffff11111111fff1111111f11111111111ffffff11111111111f1111111fff11111111fffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffff111111fff1111111f1111111111111111111111111111f1111111fff111111fffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffff1111ffffff11111111111111f111ffff1111111111111111111fffff1111ffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111f11111111f11111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111f1111111111111111f111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11ff1111111111111111ff11ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11111111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111111111fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111ff111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff111ff11fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11ff11fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1111ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11ff11ff111fff11ff11ffff1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1f1f1f1f11ff11fff1fffff1f1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff11ff11ff1fffff11ff11fff111fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1fff1f1f111f111ff11ffff1f1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
                ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
    """))
    color.start_fade(color.white, color.original_palette, 5000)
    
    def on_pause_until():
        pass
    pause_until(on_pause_until)
    
    scene.set_background_image(img("""
        ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
                ................................................................................................................................................................
    """))

def on_on_overlap(sprite, otherSprite):
    global GeoCount, Essence, NSFound
    if NSFound == 0:
        GeoCount += 240
        Essence += 1
        NSFound += 1
sprites.on_overlap(SpriteKind.player, SpriteKind.NailSmith, on_on_overlap)

def on_overlap_tile(sprite2, location):
    global Essence
    if Essence == 0:
        achievements.create("Going down for up.",
            5,
            "Descending Steps",
            assets.image("""
                DownAchievement
            """))
        Essence += 1
    else:
        if Essence > 0:
            pass
scene.on_overlap_tile(SpriteKind.player,
    assets.tile("""
        myTile11
    """),
    on_overlap_tile)

def on_left_released():
    animation.run_image_animation(mySprite, assets.animation("""
        Idle Left
    """), 500, True)
controller.left.on_event(ControllerButtonEvent.RELEASED, on_left_released)

def on_left_pressed():
    animation.run_image_animation(mySprite, assets.animation("""
        WalkL
    """), 150, True)
controller.left.on_event(ControllerButtonEvent.PRESSED, on_left_pressed)

def EverythingStarts():
    global Spell, Nail, GeoCount, NSFound, Essence, Quest
    Spell = 0
    Nail = 0
    GeoCount = 0
    NSFound = 0
    Essence = 0
    Quest = 0

def on_up_pressed():
    global Jump
    if mySprite.is_hitting_tile(CollisionDirection.BOTTOM):
        animation.run_image_animation(mySprite, assets.animation("""
            Jump1
        """), 150, False)
        mySprite.vy = -205
        Jump = True
    else:
        if controller.up.is_pressed() and Jump == True:
            animation.run_image_animation(mySprite, assets.animation("""
                Jump2
            """), 150, False)
            mySprite.vy = -175
            Jump = False
controller.up.on_event(ControllerButtonEvent.PRESSED, on_up_pressed)

def on_right_pressed():
    animation.run_image_animation(mySprite, assets.animation("""
        walkR
    """), 150, True)
controller.right.on_event(ControllerButtonEvent.PRESSED, on_right_pressed)

projectile2: Sprite = None
projectile: Sprite = None
Quest = 0
Nail = 0
Spell = 0
Essence = 0
GeoCount = 0
NSFound = 0
Jump = False
mySprite: Sprite = None
StartPage()
EverythingStarts()
SoulBar = 4
mySprite = sprites.create(assets.image("""
    StartRight
"""), SpriteKind.player)
mySprite4 = sprites.create(img("""
        ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
    """),
    SpriteKind.Soul)
mySprite3 = sprites.create(img("""
        ......ff........................................................................................................................................................
            .....f1f..........ff............................................................................................................................................
            ....f11fffff....ff1f.............f..............................................................................................................................
            ...f11111111ffff111f............ff..............................................................................................................................
            ..f11111111f1111111f...........f1f..............................................................................................................................
            .f11111fffff111111ffff.....ffff11f.fff.....fff..................................................................................................................
            f111ffffffffff111ff111f...f111f11ff111f...f111f.................................................................................................................
            f11ffff....ffff11f11111fff11111f1f11111f.f11111f................................................................................................................
            f11f.........fffff11111f1f11111fff11111f.f11111f................................................................................................................
            f1ff..........f.ff11111f1f11111f.f11111f.f11111f................................................................................................................
            f1f............f.f1f1f1fff1f1f1f.f1f1f1f.f1f1f1f................................................................................................................
            fff............f..f111f...f111f...f111f...f111f.................................................................................................................
            fff............f...fff.....fff.....fff.....fff..................................................................................................................
            .ff............f................................................................................................................................................
            ..f..ff....ff..f...ffff.........................................................................................................................................
            ..f..fff..fff..f..f6969f........................................................................................................................................
            ...f..ff..ff..f..f969696f.......................................................................................................................................
            ....f........f...f969669f.......................................................................................................................................
            .....f......f....f666969f.......................................................................................................................................
            ......ffffff......f9696f........................................................................................................................................
            ...................ffff.........................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
    """),
    SpriteKind.Health)
mySprite2 = sprites.create(assets.image("""
    EssenceCount
"""), SpriteKind.food)
mySprite5 = sprites.create(assets.image("""
    Nailsmith
"""), SpriteKind.NailSmith)
mySprite6 = sprites.create(assets.image("""
    Snail Shaman
"""), SpriteKind.NPC)
mySprite.set_flag(SpriteFlag.GHOST_THROUGH_WALLS, False)
mySprite6.set_position(32, 542)
mySprite.set_position(10, 210)
mySprite4.set_flag(SpriteFlag.RELATIVE_TO_CAMERA, True)
mySprite3.set_flag(SpriteFlag.RELATIVE_TO_CAMERA, True)
mySprite2.set_flag(SpriteFlag.RELATIVE_TO_CAMERA, True)
mySprite.ay = 500
controller.move_sprite(mySprite, 95, 0)
scene.camera_follow_sprite(mySprite)
Jump = False
HP = 4
tiles.set_current_tilemap(tilemap("""
    Hollownest
"""))

def on_forever():
    if Spell >= 1 and Quest == 0.5:
        pause(1000)
        game.show_long_text("A new spell has been added.", DialogLayout.BOTTOM)
        achievements.create("Press Button A to Shoot a ghost.",
            5,
            "New Spell",
            assets.image("""
                Ghost Logo
            """))
    else:
        pass
forever(on_forever)

def on_forever2():
    if HP == 4:
        mySprite3.set_image(img("""
            ......ff........................................................................................................................................................
                        .....f1f..........ff............................................................................................................................................
                        ....f11fffff....ff1f.............f..............................................................................................................................
                        ...f11111111ffff111f............ff..............................................................................................................................
                        ..f11111111f1111111f...........f1f..............................................................................................................................
                        .f11111fffff111111ffff.....ffff11f.fff.....fff..................................................................................................................
                        f111ffffffffff111ff111f...f111f11ff111f...f111f.................................................................................................................
                        f11ffff....ffff11f11111fff11111f1f11111f.f11111f................................................................................................................
                        f11f.........fffff11111f1f11111fff11111f.f11111f................................................................................................................
                        f1ff..........f.ff11111f1f11111f.f11111f.f11111f................................................................................................................
                        f1f............f.f1f1f1fff1f1f1f.f1f1f1f.f1f1f1f................................................................................................................
                        fff............f..f111f...f111f...f111f...f111f.................................................................................................................
                        fff............f...fff.....fff.....fff.....fff..................................................................................................................
                        .ff............f................................................................................................................................................
                        ..f..ff....ff..f...ffff.........................................................................................................................................
                        ..f..fff..fff..f..f6969f........................................................................................................................................
                        ...f..ff..ff..f..f969696f.......................................................................................................................................
                        ....f........f...f969669f.......................................................................................................................................
                        .....f......f....f666969f.......................................................................................................................................
                        ......ffffff......f9696f........................................................................................................................................
                        ...................ffff.........................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
        """))
    else:
        if HP == 3:
            mySprite3.set_image(img("""
                ......ff........................................................................................................................................................
                                .....f1f..........ff............................................................................................................................................
                                ....f11fffff....ff1f.............f..............................................................................................................................
                                ...f11111111ffff111f............ff..............................................................................................................................
                                ..f11111111f1111111f...........f1f..............................................................................................................................
                                .f11111fffff111111ffff.....ffff11f.fff.....fff..................................................................................................................
                                f111ffffffffff111ff111f...f111f11ff111f...fffff.................................................................................................................
                                f11ffff....ffff11f11111fff11111f1f11111f.fffffff................................................................................................................
                                f11f.........fffff11111f1f11111fff11111f.fffffff................................................................................................................
                                f1ff..........f.ff11111f1f11111f.f11111f.fffffff................................................................................................................
                                f1f............f.f1f1f1fff1f1f1f.f1f1f1f.fffffff................................................................................................................
                                fff............f..f111f...f111f...f111f...fffff.................................................................................................................
                                fff............f...fff.....fff.....fff.....fff..................................................................................................................
                                .ff............f................................................................................................................................................
                                ..f..ff....ff..f...ffff.........................................................................................................................................
                                ..f..fff..fff..f..f6969f........................................................................................................................................
                                ...f..ff..ff..f..f969696f.......................................................................................................................................
                                ....f........f...f969669f.......................................................................................................................................
                                .....f......f....f666969f.......................................................................................................................................
                                ......ffffff......f9696f........................................................................................................................................
                                ...................ffff.........................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
            """))
        else:
            if HP == 2:
                mySprite3.set_image(img("""
                    ......ff........................................................................................................................................................
                                        .....f1f..........ff............................................................................................................................................
                                        ....f11fffff....ff1f.............f..............................................................................................................................
                                        ...f11111111ffff111f............ff..............................................................................................................................
                                        ..f11111111f1111111f...........fff..............................................................................................................................
                                        .f11111fffff111111ffff.....fffffff.fff.....fff..................................................................................................................
                                        f111ffffffffff111ff111f...f111fffffffff...fffff.................................................................................................................
                                        f11ffff....ffff11f11111fff11111fffffffff.fffffff................................................................................................................
                                        f11f.........fffff11111f1f11111fffffffff.fffffff................................................................................................................
                                        f1ff..........f.ff11111f1f11111f.fffffff.fffffff................................................................................................................
                                        f1f............f.f1f1f1fff1f1f1f.fffffff.fffffff................................................................................................................
                                        fff............f..f111f...f111f...fffff...fffff.................................................................................................................
                                        fff............f...fff.....fff.....fff.....fff..................................................................................................................
                                        .ff............f................................................................................................................................................
                                        ..f..ff....ff..f...ffff.........................................................................................................................................
                                        ..f..fff..fff..f..f6969f........................................................................................................................................
                                        ...f..ff..ff..f..f969696f.......................................................................................................................................
                                        ....f........f...f969669f.......................................................................................................................................
                                        .....f......f....f666969f.......................................................................................................................................
                                        ......ffffff......f9696f........................................................................................................................................
                                        ...................ffff.........................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                """))
            else:
                if HP == 1:
                    mySprite3.set_image(img("""
                        ......ff........................................................................................................................................................
                                                .....f1f..........ff............................................................................................................................................
                                                ....f11fffff....ff1f.............f..............................................................................................................................
                                                ...f11111111ffff111f............ff..............................................................................................................................
                                                ..f11111111f1111111f...........fff..............................................................................................................................
                                                .f11111fffff111111ffff.....fffffff.fff.....fff..................................................................................................................
                                                f111ffffffffff111ff111f...fffffffffffff...fffff.................................................................................................................
                                                f11ffff....ffff11f11111fffffffffffffffff.fffffff................................................................................................................
                                                f11f.........fffff11111fffffffffffffffff.fffffff................................................................................................................
                                                f1ff..........f.ff11111fffffffff.fffffff.fffffff................................................................................................................
                                                f1f............f.f1f1f1fffffffff.fffffff.fffffff................................................................................................................
                                                fff............f..f111f...fffff...fffff...fffff.................................................................................................................
                                                fff............f...fff.....fff.....fff.....fff..................................................................................................................
                                                .ff............f................................................................................................................................................
                                                ..f..ff....ff..f...ffff.........................................................................................................................................
                                                ..f..fff..fff..f..f6969f........................................................................................................................................
                                                ...f..ff..ff..f..f969696f.......................................................................................................................................
                                                ....f........f...f969669f.......................................................................................................................................
                                                .....f......f....f666969f.......................................................................................................................................
                                                ......ffffff......f9696f........................................................................................................................................
                                                ...................ffff.........................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                    """))
                else:
                    mySprite3.set_image(img("""
                        ......ff........................................................................................................................................................
                                                .....f1f..........ff............................................................................................................................................
                                                ....f11fffff....ff1f.............f..............................................................................................................................
                                                ...f11111111ffff111f............ff..............................................................................................................................
                                                ..f11111111f1111111f...........fff..............................................................................................................................
                                                .f11111fffff111111ffff.....fffffff.fff.....fff..................................................................................................................
                                                f111ffffffffff111ffffff...fffffffffffff...fffff.................................................................................................................
                                                f11ffff....ffff11fffffffffffffffffffffff.fffffff................................................................................................................
                                                f11f.........fffffffffffffffffffffffffff.fffffff................................................................................................................
                                                f1ff..........f.ffffffffffffffff.fffffff.fffffff................................................................................................................
                                                f1f............f.fffffffffffffff.fffffff.fffffff................................................................................................................
                                                fff............f..fffff...fffff...fffff...fffff.................................................................................................................
                                                fff............f...fff.....fff.....fff.....fff..................................................................................................................
                                                .ff............f................................................................................................................................................
                                                ..f..ff....ff..f...ffff.........................................................................................................................................
                                                ..f..fff..fff..f..f6969f........................................................................................................................................
                                                ...f..ff..ff..f..f969696f.......................................................................................................................................
                                                ....f........f...f969669f.......................................................................................................................................
                                                .....f......f....f666969f.......................................................................................................................................
                                                ......ffffff......f9696f........................................................................................................................................
                                                ...................ffff.........................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                                                ................................................................................................................................................................
                    """))
forever(on_forever2)

def on_forever3():
    global projectile, SoulBar, projectile2
    if controller.A.is_pressed() and (controller.right.is_pressed() and (Quest >= 1 and SoulBar >= 1)):
        projectile = sprites.create_projectile_from_sprite(assets.image("""
            GhostRight
        """), mySprite, 100, 0)
        pause(1000)
        sprites.destroy(projectile)
        SoulBar += -1
    elif controller.A.is_pressed() and (controller.left.is_pressed() and (Quest >= 1 and SoulBar >= 1)):
        projectile2 = sprites.create_projectile_from_sprite(assets.image("""
            GhostLeft
        """), mySprite, -100, 0)
        pause(1000)
        sprites.destroy(projectile2)
        SoulBar += -1
    else:
        if controller.A.is_pressed() and ((controller.left.is_pressed() or controller.right.is_pressed()) and (Quest < 1 or SoulBar < 1)):
            pause(2000)
forever(on_forever3)

def on_forever4():
    global mySprite2
    if controller.B.is_pressed():
        mySprite2 = sprites.create(img("""
                .....................................1111111....................
                            ......................................1dd111111.................
                            ...........................................dd11111..............
                            ............................................ddd11111............
                            .............................................ddd111111..........
                            ................................................dddd1111........
                            .................................................dddd11111......
                            ...................................................dddd11111....
                            ....................................................dddd11111...
                            ....................................................dddd111111..
                            ....................................................ddddd1111111
                            .....................................................dddd1111111
                            .....................................................dddd1111111
                            .....................................................dddd1111111
                            ....................................................dddd11111111
                            ..................................................dddd111111111.
                            .................................................ddd111111111...
                            ................................................dd1111111111....
                            ............................................1dd1111111..........
                            ..........................................111111111.............
            """),
            SpriteKind.projectile)
        mySprite2.set_position(mySprite.x, mySprite.y)
        mySprite2.follow(mySprite, 200)
        if controller.B.is_pressed() and controller.right.is_pressed():
            animation.run_image_animation(mySprite2,
                assets.animation("""
                    Slashes right
                """),
                95,
                False)
        else:
            if controller.B.is_pressed() and controller.left.is_pressed():
                animation.run_image_animation(mySprite2,
                    assets.animation("""
                        Slashes left
                    """),
                    95,
                    False)
        pause(100)
        sprites.destroy(mySprite2)
        pause(300)
forever(on_forever4)

def on_forever5():
    global NSFound, Essence
    if NSFound == 1:
        pause(100)
        achievements.create("Old Nail Acquired.",
            10,
            "Old Nail",
            assets.image("""
                Old Nail
            """))
        NSFound += 1
    else:
        if Nail == 1 and NSFound == 2:
            pause(5000)
            achievements.create("Sharpened Nail Acquired.",
                5,
                "Sharpened Nail",
                assets.image("""
                    Reforged Nail
                """))
            NSFound += 1
        else:
            if Nail == 2 and NSFound == 3:
                pause(10000)
                achievements.create("Channeled Nail Acquired.",
                    5,
                    "Channeled Nail",
                    assets.image("""
                        Channeled Nail
                    """))
                NSFound += 1
            else:
                if Nail == 3 and NSFound == 4:
                    pause(15000)
                    achievements.create("Coiled Nail Acquired.",
                        5,
                        "Coiled Nail",
                        assets.image("""
                            Coiled Nail
                        """))
                    NSFound += 1
                else:
                    if Nail == 4 and NSFound == 5:
                        pause(20000)
                        achievements.create("Pure Nail Acquired.",
                            5,
                            "Purest Form",
                            assets.image("""
                                Coiled Nail
                            """))
                        Essence += 2
                        NSFound += 1
                    else:
                        if Nail == 6 and NSFound == 6:
                            pause(25000)
                            achievements.create(" ",
                                5,
                                "Pure Dark",
                                assets.image("""
                                    Abyssal Nail
                                """))
                            Essence += 3
                            NSFound += 1
forever(on_forever5)

def on_forever6():
    if SoulBar >= 4:
        mySprite4.set_image(assets.image("""
            Full Soul
        """))
    else:
        if SoulBar == 3:
            mySprite4.set_image(assets.image("""
                Almost full Soul
            """))
        else:
            if SoulBar == 2:
                mySprite4.set_image(assets.image("""
                    Half Soul
                """))
            else:
                if SoulBar == 1:
                    mySprite4.set_image(assets.image("""
                        Low Soul
                    """))
                else:
                    if SoulBar == 0:
                        mySprite4.set_image(img("""
                            ......ff........................................................................................................................................................
                                                        .....f.f..........ff............................................................................................................................................
                                                        ....f..fffff....ff.f.............f..............................................................................................................................
                                                        ...f........ffff...f............ff..............................................................................................................................
                                                        ..f........f.......f...........f.f..............................................................................................................................
                                                        .f.....fffff......ffff.....ffff..f.fff.....fff..................................................................................................................
                                                        f...ffffffffff...ff...f...f...f..ff...f...f...f.................................................................................................................
                                                        f..ffffffffffff..f.....fff.....f.f.....f.f.....f................................................................................................................
                                                        f..fffffffffffffff.....f.f.....fff.....f.f.....f................................................................................................................
                                                        f.fffffffffffff.ff.....f.f.....f.f.....f.f.....f................................................................................................................
                                                        f.ffffffffffffff.f.f.f.fff.f.f.f.f.f.f.f.f.f.f.f................................................................................................................
                                                        ffffffffffffffff..f...f...f...f...f...f...f...f.................................................................................................................
                                                        ffffffffffffffff...fff.....fff.....fff.....fff..................................................................................................................
                                                        .fffffffffffffff................................................................................................................................................
                                                        ..ffffffffffffff...ffff.........................................................................................................................................
                                                        ..ffffffffffffff..f6969f........................................................................................................................................
                                                        ...ffffffffffff..f969696f.......................................................................................................................................
                                                        ....ffffffffff...f969669f.......................................................................................................................................
                                                        .....ffffffff....f666969f.......................................................................................................................................
                                                        ......ffffff......f9696f........................................................................................................................................
                                                        ...................ffff.........................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                                                        ................................................................................................................................................................
                        """))
forever(on_forever6)

def on_forever7():
    if Essence == 1:
        mySprite2.set_image(img("""
            ................................................................................................................................................................
                        .....................................................................................................................................................fffffff....
                        ....................................................................................................................................................f5115115f...
                        .....................................................................................................................................1.............f415515514f..
                        ....................................................................................................................................11....1....1..f51511411515f.
                        ...................................................................................................................................1.1.....1..1...f15115151151f.
                        .....................................................................................................................................1......11....f15155155151f.
                        .....................................................................................................................................1......11....f51411411415f.
                        .....................................................................................................................................1.....1..1...f15155155151f.
                        ...................................................................................................................................11111..1....1..f15115151151f.
                        ..................................................................................................................................................f51511411515f.
                        ...................................................................................................................................................f415515514f..
                        ....................................................................................................................................................f5115115f...
                        .....................................................................................................................................................fffffff....
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
                        ................................................................................................................................................................
        """))
    else:
        if Essence == 2:
            mySprite2.set_image(img("""
                ................................................................................................................................................................
                                .....................................................................................................................................................fffffff....
                                ....................................................................................................................................................f5115115f...
                                ...................................................................................................................................................f415515514f..
                                .................................................................................................................................111111...1....1..f51511411515f.
                                ......................................................................................................................................1....1..1...f15115151151f.
                                ......................................................................................................................................1.....11....f15155155151f.
                                .................................................................................................................................111111.....11....f51411411415f.
                                .................................................................................................................................1.........1..1...f15155155151f.
                                .................................................................................................................................1........1....1..f15115151151f.
                                .................................................................................................................................111111...........f51511411515f.
                                ...................................................................................................................................................f415515514f..
                                ....................................................................................................................................................f5115115f...
                                .....................................................................................................................................................fffffff....
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
                                ................................................................................................................................................................
            """))
        else:
            if Essence == 3:
                mySprite2.set_image(img("""
                    ................................................................................................................................................................
                                        .....................................................................................................................................................fffffff....
                                        ....................................................................................................................................................f5115115f...
                                        ..................................................................................................................................1111.............f415515514f..
                                        ......................................................................................................................................1...1....1..f51511411515f.
                                        .......................................................................................................................................1...1..1...f15115151151f.
                                        ......................................................................................................................................1.....11....f15155155151f.
                                        ..................................................................................................................................1111......11....f51411411415f.
                                        ......................................................................................................................................1....1..1...f15155155151f.
                                        .......................................................................................................................................1..1....1..f15115151151f.
                                        ......................................................................................................................................1...........f51511411515f.
                                        ..................................................................................................................................1111.............f415515514f..
                                        ....................................................................................................................................................f5115115f...
                                        .....................................................................................................................................................fffffff....
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                                        ................................................................................................................................................................
                """))
forever(on_forever7)

def on_forever8():
    if HP == 0:
        color.start_fade(color.original_palette, color.white, 2000)
        pause(1000)
        game.game_over(False)
forever(on_forever8)

def on_forever9():
    global Nail
    if mySprite.overlaps_with(mySprite5) and NSFound >= 1:
        game.show_long_text("NailSmith: I can strengthen and upgrade your Nail.",
            DialogLayout.BOTTOM)
        
        def on_pause_until2():
            pass
        pause_until(on_pause_until2)
        
        if controller.A.is_pressed():
            if Nail == 0 and GeoCount >= 50:
                game.show_long_text("NailSmith: Done, easy as a pie. Enjoy your Old Nail.",
                    DialogLayout.BOTTOM)
                Nail += 1
            else:
                if Nail == 1 and GeoCount >= 240:
                    game.show_long_text("NailSmith: Bam! Back it goes. There's your Sharpened Nail.",
                        DialogLayout.BOTTOM)
                    Nail += 1
                else:
                    if Nail == 2 and GeoCount >= 557:
                        game.show_long_text("NailSmith: Your Channeled Nail will be done in 5 seconds.",
                            DialogLayout.BOTTOM)
                        pause(5000)
                        Nail += 1
                        game.show_long_text("NailSmith: Done, have fun with it!", DialogLayout.BOTTOM)
                        if Nail == 3 and GeoCount >= 2375:
                            game.show_long_text("NailSmith: Gimme 15 seconds to forge your Coiled Nail.",
                                DialogLayout.BOTTOM)
                            pause(15000)
                            Nail += 1
                            game.show_long_text("NailSmith: There's your Coiled Nail.", DialogLayout.BOTTOM)
                        else:
                            if Nail == 4 and GeoCount >= 2555:
                                game.show_long_text("NailSmith: Gimme 30 seconds to forge your Pure Nail.",
                                    DialogLayout.BOTTOM)
                                pause(30000)
                                Nail += 1
                                game.show_long_text("NailSmith: Done, have fun with it!", DialogLayout.BOTTOM)
                            else:
                                if Nail > 4:
                                    game.show_long_text("NailSmith: That's all there is to upgrade. Visit the Abyssal Nailsmith.",
                                        DialogLayout.BOTTOM)
forever(on_forever9)

def on_forever10():
    global Spell, Quest, GeoCount
    if mySprite.overlaps_with(mySprite6) and Quest == 0:
        game.show_long_text("Snail Shaman: Golly! You're strong, yet possesses no spells. Here, I'll give you one of my own nasty creations. It's perfect for a creature like you! Don't move now.",
            DialogLayout.BOTTOM)
        scene.camera_shake(4, 5000)
        Spell += 1
        pause(100)
        Quest += 0.5
        pause(100)
        Quest += 0.5
        game.show_long_text("Snail Shaman: ", DialogLayout.BOTTOM)
    else:
        if mySprite.overlaps_with(mySprite6) and Quest == 1.5:
            game.show_long_text("Snail Shaman: Thanks for clearing the monsters with my spell! Here's 240 Geo as a reward.",
                DialogLayout.BOTTOM)
            GeoCount += 240
        else:
            if mySprite.overlaps_with(mySprite6) and Quest > 1.5:
                game.show_long_text("Snail Shaman: Hey there! Good to see you again!",
                    DialogLayout.BOTTOM)
                pause(1000)
forever(on_forever10)
